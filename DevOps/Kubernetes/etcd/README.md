# ETCD

## etcd 的证书

`ETCD_CERT`（`ETCD_CERT_FILE`）和 `ETCD_PEER_CERT`（`ETCD_PEER_CERT_FILE`）两个证书虽然都是用于TLS/SSL加密通信的，但它们在 `etcd` 集群中扮演着不同的角色，分别用于不同的通信场景：

1. **`ETCD_CERT_FILE`（客户端到服务器证书）**:
   - **用途**：这个证书用于客户端与 `etcd` 服务器之间的加密通信。
   - **场景**：当一个客户端（如 Kubernetes API 服务器、etcdctl 命令行工具等）尝试连接到 `etcd` 服务器时，服务器会提供这个证书以证明其身份。客户端使用这个证书来验证它连接的服务器是合法的。
   - **安全目的**：确保客户端到服务器通信的安全性和数据加密，防止中间人攻击。

2. **`ETCD_PEER_CERT_FILE`（对等节点间证书）**:
   - **用途**：这个证书用于 `etcd` 集群内部节点之间的加密通信。
   - **场景**：`etcd` 集群由多个节点组成，为了保持数据的一致性，这些节点需要相互通信（称为对等通信）。在这种通信中，节点之间使用 `ETCD_PEER_CERT_FILE` 指定的证书来证明各自的身份。
   - **安全目的**：确保集群内节点之间通信的安全性和数据加密，防止未授权访问和数据篡改。

总结来说，`ETCD_CERT_FILE` 主要用于验证客户端与 `etcd` 服务器之间的通信，而 `ETCD_PEER_CERT_FILE` 用于验证集群内部节点之间的通信。这两种证书反映了 `etcd` 安全架构中的两个不同层面：客户端-服务器模型和集群内部对等节点通信模型。
